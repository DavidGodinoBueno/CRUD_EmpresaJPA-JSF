<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
  rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"/>
</h:head> 
<h:body class="bg-warning">
   <div class="container mt-3">
    <ui:include src="/recursos/plantillas/menu.xhtml" />
     <h:messages globalOnly="true" id="mensaje"
     infoClass="bg-success w-50 text-light p-2"
     errorClass="bg-danger w-50 text-light p-2"/>
     <h:form class="bg-light p-2 w-50" id="formux">
        <h2 class="text-center">Modificar Persona</h2>
        <div class="row justify-content-around mt-2 g-2">
          <h:inputHidden value="#{backingEditarPersona.peopleedit.idPersona}" />
          <div class="col-lg-5 col-md-5">
             <h:outputLabel value="Nombre: " />
             <h:inputText value="#{backingEditarPersona.peopleedit.nombre}" class="form-control"/>
          </div>
          <div class="col-lg-5 col-md-5">
             <h:outputLabel value="Correo: " />
             <h:inputText value="#{backingEditarPersona.peopleedit.gmail}" class="form-control"/>
          </div>
        </div>
        <div class="row justify-content-around mt-3 g-2">
          <div class="col-lg-5 col-md-5">
             <h:outputLabel value="Edad: " />
             <h:inputText value="#{backingEditarPersona.peopleedit.edad}" class="form-control"
             id="laedad" converterMessage="Solo dígitos numéricos">
                <f:convertNumber type="number"/>
             </h:inputText>
             <h:message for="laedad" class="text-danger"/>
          </div>
          <div class="col-lg-5 col-md-5">
             <h:outputLabel value="Oficio: " />
             <h:selectOneMenu value="#{backingEditarPersona.elidoficio}" class="form-select">
                <f:selectItems value="#{backingAltaPersona.listadoOficios}" var="job"
                itemValue="#{job.idOficio}" itemLabel="#{job.descripcion}"/>
             </h:selectOneMenu>
          </div>
        </div>
        <div class="row justify-content-center mt-3 g-2">
          <div class="col-lg-7 col-md-7">
             <h:outputLabel value="Fecha Nacimiento: "/>
             <h:inputText value="#{backingEditarPersona.peopleedit.fechaNacimiento}" class="form-control"
             id="lafecha" converterMessage="Formato de fecha no válido">
               <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
             </h:inputText>
             <h:message for="lafecha" class="text-danger"/>
          </div>
        </div>
        <div class="row justify-content-around mt-3 g-2">
          <div class="col-lg-4 col-md-4">
             <h:commandButton value="Modificar" 
             class="btn btn-warning col-sm-12 col-12"> 
               <f:ajax execute="formux" render="formux mensaje"
               listener="#{backingEditarPersona.modificarPersona()}"></f:ajax>
             </h:commandButton>
          </div>
          <div class="col-lg-4 col-md-4">
             <h:commandButton action="/index" value="Cancelar" 
             class="btn btn-danger col-sm-12 col-12" immediate="true"/>
          </div>
        </div>
     </h:form>
   </div>
</h:body>
</html>
